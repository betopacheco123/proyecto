<div class="container mt-5">
    <div class="box">
        <h1 class="title is-4"><%= doctor ? "Editar Doctor" : "Agregar Nuevo Doctor" %></h1>
        <form action="<%= doctor ? `/doctors/edit/${doctor.id}` : '/doctors/create' %>" method="POST">
            <div class="field">
                <label class="label" for="name">Nombre</label>
                <div class="control">
                    <input
                        class="input"
                        type="text"
                        id="name"
                        name="name"
                        placeholder="Nombre del doctor"
                        value="<%= doctor ? doctor.name : '' %>"
                        required
                    />
                </div>
            </div>

            <div class="field">
                <label class="label" for="specialty_id">Especialidad</label>
                <div class="control">
                    <div class="select is-fullwidth">
                        <select id="specialty_id" name="specialty_id" required>
                            <% specialties.forEach(specialty => { %>
                                <option
                                    value="<%= specialty.id %>"
                                    <%= doctor && doctor.specialty_id === specialty.id ? "selected" : "" %>>
                                    <%= specialty.name %>
                                </option>
                            <% }) %>
                        </select>
                    </div>
                </div>
            </div>

            <div class="field is-grouped">
                <div class="control">
                    <button class="button is-link" type="submit">Guardar</button>
                </div>
                <div class="control">
                    <a href="/doctors" class="button is-light">Cancelar</a>
                </div>
            </div>
        </form>
    </div>
</div>
